<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta name="description" content="Cosmograve, partie cosmo, programme qui permet de déterminer l'age de l'univers ainsi que tracer son evolution" />
	<meta http-equiv="Content-Language" content="fr-FR" />
	<title>Cosmograve - Cosmologie</title>
	<link rel="stylesheet" media="screen and (min-width: 800px)" href="css/style.css">
	<link rel="stylesheet" media="screen and (max-device-width: 800px)" type="text/css" title="mobile" href="css/mobile.css" />
	<script src="lib/jquery-1.12.3.min.js"></script>
	<script src="lib/math.js"></script>
	<script src="lib/d3.js"></script>
	
	<script src="js/rungekutta.js"></script>
	<script src="js/range.js"></script>
	<script src="js/integrale.js"></script>
	<script src="js/main_calcul.js"></script>
	<script>
	function calcu(){
	c = 2.99*Math.pow(10, 8);
	G = 6.67384*Math.pow(10, -11);
	
	t0 = document.getElementById("T0").value;
	h0 = document.getElementById("H0").value; 
	omegam0 = Number(document.getElementById("omegam0").value);
	omegalambda0 = Number(document.getElementById("omegalambda0").value);
	H0parGan = 0;
	
	Or = 0;
	if (document.getElementById("liste").options[2].selected) {
		Or=(1.412171e-41)*Math.pow(t0,4)/(3*Math.pow(h0/(3.085678e19),2));
		Or=1.68*Or;
		Or = Or.toExponential();
		} else if (document.getElementById("liste").options[1].selected) {
		Or=(1.412171e-41)*Math.pow(t0,4)/(3*Math.pow(h0/(3.085678e19),2));
		Or = Or.toExponential();
		} else {
	}
	
	omegalambda0 = omegalambda0.toExponential();
	
	omegak0 = 1-Or-omegam0-omegalambda0;
	
	document.getElementById("resultat_omegar0").innerHTML = Or;
	document.getElementById("resultat_omegarlambda0").innerHTML = omegalambda0;
	document.getElementById("resultat_omegak0").innerHTML = omegak0;
	
	H0parGan = h0*1.0245974*Math.pow(10, -3);
	
		z1 = document.getElementById("z1").value;
		z2 = document.getElementById("z2").value;
		
		integ = Math.sqrt( Math.abs(omegak0)) * simpson(Number(z1), Number(z2), 100000, fonction_dm, omegam0, Number(omegalambda0), Number(Or));
		//alert(integ);
		
		if (omegak0>0){
            dm=(1/(H0parGan*Math.sqrt( Math.abs(omegak0) ))) * Math.sin(integ);
        }else if (omegak0==0){
            dm=(1/(H0parGan) * simpson(Number(z1), Number(z2), 100000, fonction_dm, omegam0, Number(omegalambda0), Number(Or)));
        }else{
            dm=(1/(H0parGan*Math.sqrt( Math.abs(omegak0) ))) * Math.sinh(integ);
        }
		
		dda=dm/(1+(z2-z1));
        dl=dm*(1+(z2-z1));
		
		agebetween = simpson(Number(z1), Number(z2), 100000, fonction_integrale, omegam0, Number(omegalambda0), Number(Or));
		alert("dm = "+dm);
		alert("t1-t2 = "+agebetween);
	}
	</script>
	</head>
	
	<body>
		<div id="temp"></div>
		<form id="parametres" action="" method="post" autocomplete="off">
			<div class="desact_retour">
				<label for="T0">T<sub>0</sub> =</label>
				<input id="T0" value="2.725" maxlength="10" type="text">
			</div>
			<div class="desact_retour">
				<label for="H0">H<sub>0</sub> =</label>
				<input id="H0" value="67.74" maxlength="10" type="text">
			</div>
			<div class="desact_retour">
				<label for="omegam0">&Omega;<sub>m0</sub> =</label>
				<input id="omegam0" value="0.3089" maxlength="10" type="text">
			</div>
			<div class="desact_retour">
				<label for="omegalambda0">&Omega;<sub>&Lambda;0</sub> =</label>
				<input id="omegalambda0" value="0.6911" maxlength="10" type="text">
			</div>
			<div>
				<div class="desact_retour">
				<label for="z1">Z<sub>1</sub> =</label>
				<input id="z1" value="0" maxlength="10" type="text">
				</div>
				<div class="desact_retour">
				<label for="z2">Z<sub>2</sub> =</label>
				<input id="z2" value="10" maxlength="10" type="text">
				</div>
			</div>
			<div>
				<select id="liste" name="type" size="1">
					<option selected="selected">Mati&egrave;re et Lambda</option>
					<option>Mati&egrave;re, Lambda et RFC</option>
					<option>Mati&egrave;re, Lambda, RFC et Neutrinos</option>
				</select>
				
				<div class="button, desact_retour" onclick="calcu()">
					<button type="button">Tracer</button>
				</div>
			</div>
		</form>
		
		<div id="graphique">
			
		</div>
		
		<div id="information">
			&Omega;<sub>r0</sub> = <span id="resultat_omegar0"></span><br />
			&Omega;<sub>&Lambda;0</sub> = <span id="resultat_omegarlambda0"></span><br />
			&Omega;<sub>k0</sub> = <span id="resultat_omegak0"></span><br />
			<span id="resultat_ageunivers"></span><br />
			<span id="resultat_bigcrunch"></span><br />
			Durée de l'univers = <span id="resultat_dureeuniv"></span><br />
		</div>
		
	</body></html>									